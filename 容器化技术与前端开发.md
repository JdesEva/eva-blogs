# å®¹å™¨åŒ–æŠ€æœ¯ä¸å‰ç«¯å¼€å‘

> ä»Šå¤©çš„å†…å®¹ä¼šæœ‰ç‚’å†·é¥­å†…å®¹ï¼Œä¸å–œå‹¿å–·~

åº”æœ‹å‹å»ºè®®ï¼Œä»Šå¤©èŠä¸€ä¸‹å®¹å™¨åŒ–æŠ€æœ¯ï¼Œæ›´åŠ ç›´ç™½çš„æ¥è¯´ï¼Œåº”è¯¥æ˜¯ä»¥ Docker ä¸ºä»£è¡¨çš„å®¹å™¨åŒ–æŠ€æœ¯ã€‚

å®é™…ä¸Šå®¹å™¨åŒ–æŠ€æœ¯å¾ˆæ—©å°±å‡ºç°äº†ï¼Œåªä¸è¿‡å½“åˆçš„å®¹å™¨åŒ–æŠ€æœ¯çš„ä»£è¡¨æ˜¯è™šæ‹Ÿæœºã€‚

ç›¸è¾ƒäº Dockerï¼Œè™šæ‹Ÿæœºè‚¯å®šæ˜¯ç•¥æ˜¾ç¬¨é‡ï¼Œä½†æ˜¯åœ¨äº‘æœåŠ¡å™¨ã€ç‰©ç†æœºé¢†åŸŸï¼Œä»ç„¶æ˜¯è™šæ‹Ÿæœºçš„å¤©ä¸‹ï¼Œæ¯•ç«Ÿä¸¤è€…çš„å—ä¼—é¢ä¸ä¸€æ ·ï¼Œå®ç°ä¹Ÿä¸ä¸€æ ·ã€‚

![è™šæ‹Ÿæœº ç½‘å›¾ ä¾µåˆ ](https://pangji-home.com/eva_blogs/7ef51b678c00e22d88a52a9f10ec1b76.png)

Docker æ˜¯ä¸€ä¸ªè½»é‡çº§ï¼ˆç›¸å¯¹è€Œè¨€ï¼‰çš„è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œé€šè¿‡ Dockerï¼Œå¯ä»¥åšåˆ°ç»å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¸€ä¸ªé•œåƒï¼Œå…¨å¹³å°é€šç”¨ï¼Œç›´æ¥è¿è¡Œå³å¯ï¼Œä¸åœ¨éœ€è¦å¤æ‚çš„é…ç½®ç¯å¢ƒç­‰ç›¸å…³ä¿¡æ¯ï¼Œè§£æ”¾ç”Ÿäº§åŠ›ã€‚

Docker æœ¬èº«æŠ€æœ¯å¼€æºï¼Œä½†æ˜¯å¹³å°å¹¶ä¸å¼€æºï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€ï¼Œå¦‚æœæ˜¯ä¼ä¸šä½¿ç”¨ Dockerï¼Œéœ€è¦æ³¨æ„ä¸€ä¸‹ç‰ˆæƒé—®é¢˜ã€‚

> æ¯”å¦‚ Docker Desktop è¿™ä¸ªè½¯ä»¶ï¼Œæ˜¯å®˜æ–¹æä¾›çš„ GUI å·¥å…·ï¼Œä½†æ˜¯å®ƒæ˜¯å¯¹ä¸ªäººç‰ˆå…è´¹ï¼Œå¯¹ä¼ä¸šæ˜¯éœ€è¦æ”¶è´¹çš„ã€‚

å…¶å®å¯¹äºå‰ç«¯è€Œè¨€ï¼ŒDocker çš„æ„ŸçŸ¥å¹¶ä¸ç®—å¼ºï¼Œå› ä¸ºç»å¤§éƒ¨åˆ†é¡¹ç›®éƒ½æ˜¯ä½¿ç”¨ CDN é™æ€èµ„æºéƒ¨ç½²çš„ï¼Œåªæœ‰ nodejsã€SSR ç­‰ç›¸å…³æœåŠ¡æ‰éœ€è¦ Docker ä¸ºä»£è¡¨çš„å®¹å™¨åŒ–æŠ€æœ¯ã€‚

å°±ä¸ªäººä½¿ç”¨è€Œè¨€ï¼Œé™¤äº†æ­£å„¿å…«ç»çš„éƒ¨ç½²ï¼ŒDocker æœ€æ–¹ä¾¿çš„è¿˜æ˜¯åœ¨è°ƒè¯•ä¸€äº›å¤æ‚åœºæ™¯çš„æ—¶å€™ä½¿ç”¨æœ€ä¸ºèˆ’æœã€‚

ä¸¾ä¸ªğŸŒ°ï¼Œå½“ä¸€ä¸ªé¡¹ç›®éœ€è¦åˆæ¬¡æ¥å…¥ Sentryï¼Œç„¶åæˆ‘ä»¬è¿˜éœ€è¦ä¸Šä¼  sourcemap åˆ° Sentry æ–¹ä¾¿åç»­æ’æŸ¥é—®é¢˜ï¼Œä¸ºäº†è°ƒè¯•è¿™ä¸ªè¿‡ç¨‹ï¼Œæˆ‘ä»¬å°±éœ€è¦å¯¹é¡¹ç›®è¿›è¡Œéƒ¨ç½²ä¹‹åè¿›è¡Œå¼€å‘è°ƒè¯•ï¼Œè€Œè¿™ä¸ªè¿‡ç¨‹å°±å¯ä»¥æ”¾åœ¨æœ¬åœ°ä½¿ç”¨ Docker æ‹‰ä¸€ä¸ª nginx é•œåƒç›´æ¥éƒ¨ç½²æœ¬åœ°è¿›è¡Œè°ƒè¯•ï¼Œç„¶åç›´æ¥å®Œæˆè¿™ä¸ªè¿‡ç¨‹ï¼Œä¸å¿…å‘åˆ°æµ‹è¯•çº¿æˆ–è€…å…¶ä»–çš„åœ°æ–¹ã€‚

![sourcemap](https://pangji-home.com/eva_blogs/WX20230627-112608%402x.png)

> ä¸Šä¼ æˆåŠŸä¸ä»£è¡¨å¯ä»¥ä½¿ç”¨ï¼Œéœ€è¦è°ƒè¯•ã€‚å½“ç„¶ä¹Ÿå¯ä»¥æœ‰å…¶ä»–æ‰‹æ®µï¼Œæˆ‘ä»¬åªæ˜¯ä¸ºäº†å®Œæˆè¿™ä¸ªè¿‡ç¨‹ã€‚

å½“ç„¶è¿˜æœ‰å…¶ä»–ä¾‹å­ï¼Œæ¯”å¦‚ä¸€ä¸ª nodejs æœåŠ¡ä¸Šçº¿å‰å¯èƒ½éœ€è¦åœ¨æœ¬åœ°æ‰“åŒ…æ„å»ºé•œåƒæ¨¡æ‹Ÿéƒ¨ç½²ç„¶åè¿›è¡ŒæœåŠ¡æµ‹è¯•ï¼Œè¿™æ ·æ‰ä¼šæ¯”è¾ƒç¨³å¦¥ã€‚è¯¸å¦‚æ­¤ç±»çš„ä¾‹å­è¿˜æœ‰å¾ˆå¤šï¼Œæ€»ä¹‹ï¼Œå®¹å™¨åŒ–æŠ€æœ¯è§£å†³äº†å¾ˆå¤šé—®é¢˜ï¼Œå¹¶ä¸”æŠŠç»å¤§éƒ¨åˆ†é—®é¢˜éƒ½æŠ›åˆ°äº†éƒ¨ç½²å‰ï¼Œè®©æ•´ä¸ªéƒ¨ç½²æµç¨‹å¤§å¤§ç®€åŒ–ã€‚

é“ºå«äº†è¿™ä¹ˆå¤šï¼Œæ¥ä¸‹æ¥æ˜¯æ—¶å€™è¯´è¯´å¦‚ä½•ä½¿ç”¨äº†ã€‚

ä»¥ Docker ä¸ºä¾‹ï¼Œæˆ‘ä»¬ç¬¬ä¸€æ­¥å°±æ˜¯éœ€è¦å®‰è£… Docker å¹³å°ã€‚æœ¬è´¨ä¸Šï¼ŒDocker æœ‰ç‚¹ç±»ä¼¼äºä¸€ä¸ªè™šæ‹Ÿæœºï¼Œæˆ–è€…è¯´ jvmï¼Œå®ƒæ˜¯é•œåƒèƒ½å¤Ÿè¿è¡Œçš„åŸºç¡€ï¼Œå®ƒçš„ä½œç”¨ï¼Œæ˜¯**æŠ¹å¹³ç»å¤§éƒ¨åˆ†å¹³å°å·®å¼‚**ï¼Œä»¥æ ‡å‡†åŒ–çš„æ–¹æ¡ˆï¼Œæ„å»ºå®¹å™¨ï¼Œä»è€Œåšåˆ°è·¨å¹³å°å…¼å®¹ã€‚

> **æœ¬æ–‡ä¸æ˜¯ä»‹ç» Docker åŸºç¡€çš„æ–‡ç« **ï¼ŒDocker åŸºç¡€æ–‡ç« æœ‰å¾ˆå¤šè®²è§£çš„éå¸¸å¥½ï¼Œæˆ‘ä¹Ÿå°±ä¸ç­é—¨å¼„æ–§äº†

åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸Šæœ‰ä¸åŒçš„å®‰è£…æ–¹æ³•ï¼Œ**å¹¶ä¸”æ³¨æ„å¼€å¤´è¯´çš„ç‰ˆæƒé—®é¢˜**ï¼Œå¦‚æœä½ å¥½å·§ä¸å·§ï¼Œæ˜¯åœ¨ä¼ä¸šé‡Œé¢ä½¿ç”¨çš„ Windows æˆ–è€… Macï¼Œé‚£ä¹ˆå»ºè®®ä½¿ç”¨ Docker Desktop çš„å¹³æ›¿ â€”â€” [Rancher Desktop](https://github.com/rancher-sandbox/rancher-desktop)ã€‚

> æ³¨æ„ä¸è¦åŠè·¯æ¢æˆ Rancher Desktopï¼Œä¸ç„¶æ–‡ä»¶çš„æƒé™é—®é¢˜èƒ½æ¶å¿ƒæ­»äºº...

è€Œå¦‚æœæ˜¯ Linuxï¼Œé‚£å¾ˆç®€å•ï¼Œå®‰è£… `docker-ce` å³å¯ï¼Œä»¥ centos ä¸ºä¾‹ã€‚

```shell
yum -y install docker-ce
```

> `docker-ce` æ˜¯ docker çš„å¼€æºç‰ˆæœ¬ï¼Œé—­æºç‰ˆæœ¬å« `docker-ee`ã€‚

ç„¶åå®‰è£… `docker-compose`ã€‚

```shell
curl -L http://get.daocloud.io/docker/compose/releases/download/v2.2.3/docker-compose-`uname -s`-`uname -m` > /usr/local/bin/docker-compose

sudo chmod +x /usr/local/bin/docker-compose
```

Docker Desktop é›†æˆäº† `docker-compose`ï¼Œæ— éœ€æ‰‹åŠ¨å®‰è£…ã€‚å®‰è£…å®Œæˆåï¼Œæ‰§è¡Œç‰ˆæœ¬æŸ¥çœ‹å‘½ä»¤ï¼Œå¦‚æœæœ‰æ­£å¸¸è¾“å‡ºå°±å®‰è£…å®Œæˆäº†ã€‚

![docker & docker-compose](https://pangji-home.com/eva_blogs/WX20230627-114722%402x.png)

å®‰è£…å®Œæˆä¹‹åå°±å¯ä»¥ä½¿ç”¨ Dockerï¼ŒDocker æœ‰ä¸€äº›å¸¸ç”¨å‘½ä»¤ï¼Œå¦‚ä¸‹ï¼ˆçœç•¥äº†å‚æ•°çš„ï¼‰

- docker ps -a
- docker images
- docker rmi 
- docker rm 
- docker stop
- docker stats
- docker pull
- docker push
- docker tag
- docker system prune
- docker logs -f
- docker exec -it
- docker build
- ...

å½“ç„¶è¿˜æœ‰ä¸€äº›å…¶ä»–çš„å‘½ä»¤ï¼Œå…·ä½“å‘½ä»¤å«ä¹‰å¯ä»¥å‚è€ƒåˆ«çš„æ–‡ç« ã€‚ä¸åœ¨æœ¬æ–‡çš„å™è¿°ä¹‹å†…ã€‚

è€Œ docker-compose ä¹Ÿæœ‰ä¸€äº›å‘½ä»¤ï¼Œä½†æ˜¯ä¸€èˆ¬è€Œè¨€åªéœ€è¦è®°ä½ä»¥ä¸‹å‡ ä¸ªå°±å¯ä»¥äº†

- docker-compose up -d
- docker-compose down
- docker-compose stop
- docker-compose restart
- docker-compose build

å…¶ä»–å‘½ä»¤å¯ä»¥éœ€è¦çš„æ—¶å€™å†çœ‹ã€‚

ä¸€èˆ¬è€Œè¨€ï¼Œæˆ‘çš„å»ºè®®æ˜¯ä¸å»ºè®®ä½¿ç”¨å‘½ä»¤å»ç»´æŠ¤ã€æ“ä½œ docker é•œåƒï¼Œå»ºè®®ä½¿ç”¨ docker-compose å»ç»„ç»‡ç¼–æ’é•œåƒã€‚

docker-compose æ˜¯ä¸€ç§ç»„ç»‡ç¼–æ’ docker é•œåƒçš„æŠ€æœ¯ï¼Œåˆ©ç”¨å®ƒå¯ä»¥å¾ˆæ–¹ä¾¿çš„ä¸€æ¬¡æ€§å¯åŠ¨å¤šä¸ªé•œåƒï¼Œå¯ä»¥ä¸²è¡Œã€å¯ä»¥å¹¶è¡Œï¼Œååˆ†çš„å¼ºå¤§ã€‚

docker-compose éœ€è¦ä½¿ç”¨ `yml` å»ç¼–æ’é•œåƒï¼Œå®ƒé»˜è®¤è¯»å–å½“å‰è¿è¡Œå‘½ä»¤ç›®å½•ä¸‹çš„ `docker-compose.yml` æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ `-f` æŒ‡å®šã€‚è€Œä¸è®ºæ˜¯ docker è¿˜æ˜¯ docker composeï¼Œå½’æ ¹åˆ°åº•è¿˜æ˜¯å¾—å›åˆ° docker èº«ä¸Šæ¥ã€‚

è¦ä½¿ç”¨ dockerï¼Œå°±éœ€è¦ç¼–å†™ `Dockerfile`ï¼Œ`Dockerfile` æ˜¯ä¸€ä»½æ„å»ºå½“å‰é¡¹ç›®é•œåƒçš„å£°æ˜æ–‡ä»¶ï¼Œä¹Ÿæ˜¯å¯ä»¥è¢« docker è¯†åˆ«çš„é…ç½®æ–‡ä»¶ï¼Œdocker ä¼šé»˜è®¤è¯»å–å½“å‰è¿è¡Œå‘½ä»¤ç›®å½•ä¸‹çš„ `Dockerfile` æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å‚æ•° `-f` æŒ‡å®šï¼Œè¯»å–ä¹‹åï¼ŒæŒ‰ç…§ `Dockerfile` æ–‡ä»¶çš„å£°æ˜ï¼Œè¿›è¡Œé•œåƒçš„æ„å»ºã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ `Dockerfile`ï¼Œå®ƒçš„ä½œç”¨æ˜¯å¼•ç”¨ node é•œåƒï¼Œç„¶åå°†æœåŠ¡æ‰“åŒ…æˆä¸€ä¸ªæ–°çš„é•œåƒã€‚

```Dockerfile
FROM node:16.16.0-buster-slim

RUN mkdir -p /usr/src

# è®¾ç½®å·¥ä½œç›®å½•
WORKDIR /usr/src

COPY package.json /usr/src/package.json

RUN yarn config set registry https://registry.npmmirror.com/ \
    && yarn install --production

# æ‹·è´æ‰€æœ‰æºä»£ç åˆ°å·¥ä½œç›®
COPY . /usr/src

# æš´éœ²å®¹å™¨ç«¯å£
EXPOSE 7000

CMD npm run start
```

è€Œæœ‰äº†è¿™ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ docker-compose å»ç¼–æ’æˆ‘ä»¬çš„é•œåƒï¼Œä¸‹é¢æ˜¯ç¼–æ’ node egg é¡¹ç›®çš„ä¸€ä¸ª `docker-compose.yml`

```yml
version: '3.9'
services:
  server:
    depends_on:
      db:
        condition: service_healthy
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - 7000:7000
    environment:
      BASE_URL: ${BASE_URL}
      MYSQL_HOST: db
    volumes:
      - ./logs:/root/logs
      - ./app/upload:/usr/src/app/upload
      - ./app/public:/usr/src/app/public
      - ./app/temp:/usr/src/app/temp
      - ./app/pages:/usr/src/app/pages
    restart: on-failure
  db:
    image: mysql:8.0 # æŒ‡å®šé•œåƒå’Œç‰ˆæœ¬
    ports:
      - 3306:3306
    environment:
      MYSQL_ROOT_PASSWORD: ${MYSQL_ROOT_PASSWORD}
      MYSQL_USER: ${MYSQL_USER}
      MYSQL_PASSWORD: ${MYSQL_PASSWORD}
      MYSQL_ROOT_HOST: ${MYSQL_ROOT_HOST}
      MYSQL_DATABASE: ${MYSQL_DATABASE}
      TZ: Asia/Shanghai
    volumes:
      - "${MYSQL_DIR}/data:/var/lib/mysql" # æŒ‚è½½æ•°æ®ç›®å½•
      - "${MYSQL_DIR}/config:/etc/mysql/conf.d" # æŒ‚è½½é…ç½®æ–‡ä»¶ç›®å½•
    restart: on-failure
    healthcheck:
      test:
        [
          "CMD-SHELL",
          "curl -sS 'http://localhost:3306' || exit 1"
        ]
      interval: 5s
      timeout: 5s
      retries: 6
```

ä¸Šé¢ä¸»è¦å¹²äº†ä¸¤ä»¶äº‹

- å¯åŠ¨ MySQL æ•°æ®åº“ï¼Œå¹¶ä¸”å°†æ•°æ®åº“çš„èµ„æºæ–‡ä»¶å­˜åœ¨æœ¬åœ°
- æ‰“åŒ… node egg æœåŠ¡ï¼Œå¹¶ä¸”å°†ç›¸å…³æ–‡ä»¶æŒ‚è½½ï¼Œç„¶åå¯åŠ¨æœåŠ¡åˆ° 7000 ç«¯å£

è€Œæ­£æ˜¯æœ‰äº† docker å’Œ docker-composeï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦æ“å¿ƒå…¶ä»–çš„ä¸œè¥¿ã€‚æ¯”å¦‚æˆ‘ä»¬æ¢ä¸€å°æœåŠ¡å™¨ï¼Œéœ€è¦é‡æ–°éƒ¨ç½²ä¸Šé¢çš„ node egg æœåŠ¡ï¼Œä»ç„¶åªéœ€è¦æ‰§è¡Œä¸‹é¢ä¸€è¡Œå‘½ä»¤å³å¯ã€‚

```shell
docker-compose up -d
```

é“ºå«åˆ°è¿™é‡Œï¼ŒåŸºæœ¬ä¸Šåº”è¯¥å¯¹ docker ä¸ºä»£è¡¨çš„å®¹å™¨åŒ–æŠ€æœ¯æœ‰äº†å¤§æ¦‚å¾—è®¤çŸ¥ã€‚å…¶å®æœ¬è´¨ä¸Š docker å®¹å™¨å°±æ˜¯è¿è¡Œåœ¨æœåŠ¡å™¨ä¸Šçš„ä¸€ä¸ªä¸ªå°å‹çš„ linux æ²™ç®±ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆåªæœ‰ Linux å¯¹å…¶æ”¯æŒåº¦æœ€å¥½ï¼Œå› ä¸ºæœ¬èº«å°±æ˜¯ä¸€ä¸ªå¦ˆç”Ÿçš„...

ä¸Šæ–‡è®²åˆ°çš„æ˜¯ docker çš„ä¸€äº›ç¡¬çŸ¥è¯†ï¼Œè¿‡äºå¼ºç¡¬ï¼Œä¸‹é¢è®²ä¸€è®²å®é™…å’Œå‰ç«¯ç›¸å…³çš„åº”ç”¨ã€‚

ä¸€èˆ¬æ¥è¯´ï¼Œé™¤äº†ä¸Šæ–‡è¯´åˆ°çš„éƒ¨ç½²å±‚é¢çš„è°ƒè¯•ï¼Œå®é™…é¡¹ç›®çš„éƒ¨ç½²ï¼Œç°å®ä¸­ï¼Œè¿˜æœ‰ä¸€äº›åœºæ™¯æˆ‘ä»¬æ˜¯å¯ä»¥ä½¿ç”¨ docker å»å®Œæˆçš„ã€‚

- éœ€è¦å¤šä¸ªæ•°æ®åº“
- éœ€è¦æœ¬åœ°è¿è¡Œå¤šä¸ªé¡¹ç›®ï¼ˆè·¨ç«¯ã€å¹³å°æœåŠ¡ç­‰ï¼‰
- éœ€è¦è¿è¡Œå¤šä¸ªç«¯å£ç­‰

å…¶å®æŠ½è±¡èµ·æ¥åº”è¯¥æ˜¯**éœ€è¦è¿è¡Œå¤šä¸ªé¡¹ç›®ä»¥å¤‡å¼€å‘éœ€è¦**ï¼Œè¿™ç§æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ docker å»å®Œæˆï¼Œä¸ç”¨æ“å¿ƒå®‰è£…ç¯å¢ƒçš„äº‹æƒ…...

æˆ‘ä»¬æ¥å®é™…æ“ä½œä¸€ä¸‹ï¼Œæ¯”å¦‚æˆ‘ä»¬éœ€è¦å¯åŠ¨2ä¸ªæ•°æ®åº“ï¼Œä¸€ä¸ª `MySQL`ï¼Œä¸€ä¸ª`postgreSQL`ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬ç”¨ docker å°±ä¼šååˆ†çš„æ–¹ä¾¿

```yml
version: '3.9'
services:
  db:
    image: mysql:8.0   # æŒ‡å®šé•œåƒå’Œç‰ˆæœ¬
    ports:
     - 3306:3306
    environment:
      MYSQL_ROOT_PASSWORD: ${MYSQL_ROOT_PASSWORD}
      MYSQL_USER: ${MYSQL_USER}
      MYSQL_PASSWORD: ${MYSQL_PASSWORD}
      MYSQL_ROOT_HOST: ${MYSQL_ROOT_HOST}
      MYSQL_DATABASE: ${MYSQL_DATABASE}
      TZ: Asia/Shanghai
    volumes:
      - "${MYSQL_DIR}/data:/var/lib/mysql"  # æŒ‚è½½æ•°æ®ç›®å½•
      - "${MYSQL_DIR}/config:/etc/mysql/conf.d" # æŒ‚è½½é…ç½®æ–‡ä»¶ç›®å½•
    restart: unless-stopped
  postgres:
    image: "postgres:9.6"
    ports:
     - 5432:5432
    healthcheck:
      # Using default user "postgres" from sentry/sentry.conf.example.py or value of POSTGRES_USER if provided
      test: ["CMD-SHELL", "pg_isready -U ${POSTGRES_USER:-postgres}"]
    command:
      [
        "postgres",
        "-c",
        "wal_level=logical",
        "-c",
        "max_replication_slots=1",
        "-c",
        "max_wal_senders=1",
      ]
    environment:
      POSTGRES_HOST_AUTH_METHOD: "trust"
```


å®Œæˆä¹‹åï¼Œæˆ‘ä»¬è¿è¡Œå‘½ä»¤ `docker-compose up -d`

![MySQL å’Œ postgreSQL](https://pangji-home.com/eva_blogs/WX20230627-180943%402x.png)

å¯ä»¥çœ‹åˆ°å¯åŠ¨äº†ä¸¤ä¸ªæœåŠ¡ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ä¸€ä¸‹ 3306 å’Œ 5432 ç«¯å£çš„è¿›ç¨‹å ç”¨

![3306 å’Œ 5432 ç«¯å£](https://pangji-home.com/eva_blogs/WX20230627-181427%402x.png)

çš„ç¡®æ˜¯ `MySQL` å’Œ `postgreSQL`ï¼Œè¯´æ˜éƒ¨ç½²æˆåŠŸäº†ã€‚å¯ä»¥çœ‹å‡ºï¼Œè¿™ç§æ¨¡å¼è¿›è¡Œè°ƒè¯•ã€å¼€å‘éƒ½ååˆ†çš„æ–¹ä¾¿ï¼Œçš„ç¡®ï¼Œåªè¦ä½ æƒ³ï¼Œä½ å¯ä»¥åœ¨ä½ çš„ç”µè„‘ä¸Šç”¨ docker è¿è¡Œä»»ä½•é¡¹ç›®ï¼Œå¹¶ä¸”å‡ ä¹æ²¡æœ‰ç¯å¢ƒé…ç½®çš„çƒ¦æ¼ï¼ˆWindows çš„æ”¯æŒæ€§è¦å·®å¾ˆå¤šï¼Œæ²¡æœ‰åŠæ³•ï¼‰

äº«å—å®¹å™¨åŒ–æŠ€æœ¯å¸¦æ¥çš„ä¾¿åˆ©å§ï¼è€Œä½œä¸ºå‰ç«¯ï¼Œæˆ‘ä»¬åªéœ€è¦äº†è§£å®ƒï¼Œå¹¶ä¸”ä¼šç”¨å®ƒå°±å¤Ÿäº†ã€‚

enjoy it~